<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Investani: Complete Profile</title>
	<!-- Mobile Specific Metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<!-- Font-->
	<link rel="stylesheet" type="text/css" href="/css/muli-font.css">
	<link rel="stylesheet" type="text/css" href="/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
	<!-- datepicker -->
	<link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css">
	<!-- Main Style Css -->
	<link rel="stylesheet" href="/css/profile-style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link href="https://unpkg.com/gijgo@1.9.11/css/gijgo.min.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div class="page-content">
		<div class="wizard-v2-content">
			<div class="wizard-form">
				<div class="wizard-header">
					<h3>Tentang Pendaftaran</h3>
					<p>Persyaratan pendaftaran mengacu kepada peraturan yang berlaku di Indonesia. Karena itu, data diri yang Anda
						masukkan harus merupakan data asli yang dapat dipertanggungjawabkan. Segala bentuk pemalsuan data dapat dikenakan
						sanksi sesuai peraturan yang berlaku.</p>
					<br>
					<h3>Ada kendala? Hubungi kami</h3>
					<p>Layanan pengaduan
						<br>
						Senin - Jumat (09.00 - 17.00 WIB)</p>
				</div>
			</div>
			<div class="wizard-form">
				<div class="wizard-header">
					<h3>Profil</h3>
				</div>
				<form actions="/complete-profile" class="form-register" id="complete-profile-form" method="post">
					<% if (error_message != '') { %>
						<div class="sufee-alert alert with-close alert-danger alert-dismissible fade show">
							<%= error_message %>
							<button type="button" class="close" data-dismiss="alert" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
					<% } %>
					<div id="form-total" role="application" class="wizard clearfix">
						<div class="steps clearfix">
							<ul role="tablist">
								<li role="tab" class="first current" aria-disabled="false" aria-selected="true">
									<a id="form-total-t-0" href="#" aria-controls="form-total-p-0">
										<span class="current-info audible"> </span>
										<span class="title">1</span>
									</a>
								</li>
								<li role="tab" class="disabled" aria-disabled="false" aria-selected="false">
									<a id="form-total-t-1" href="#" aria-controls="form-total-p-1">
										<span class="title">2</span>
									</a>
								</li>
								<li role="tab" class="disabled last" aria-disabled="true">
									<a id="form-total-t-2" href="#" aria-controls="form-total-p-2">
										<span class="title">3</span>
									</a>
								</li>
							</ul>
						</div>
						<div class="content clearfix">
							<h2 id="form-total-h-0" tabindex="-1" class="title current">1</h2>
							<section id="form-total-p-0" role="tabpanel" aria-labelledby="form-total-h-0" class="body current" aria-hidden="false" style="">
								<div class="inner">
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<select name="registration_type" id="registration_type" class="form-control">
												<option disabled>Tipe Pendaftaran</option>
												<option value="individual" selected>Perseorangan</option>
												<option value="company">Perusahaan</option>
											</select>
											<span class="select-btn">
												<i class="zmdi zmdi-chevron-down"></i>
											</span>
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<input class="form-control" id="name" name="name" placeholder="Nama Lengkap" type="text" >
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder" id="phone-input">
											<input class="form-control" id="phone" name="phone" pattern="^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$" placeholder="Nomor Handphone" type="text" >
										</div>
										<div class="form-holder" id="gender-input">
											<select name="gender" id="gender" class="form-control">
												<option disabled selected>Jenis Kelamin</option>
												<option value="male">Pria</option>
												<option value="female">Wanita</option>
											</select>
											<span class="select-btn">
												<i class="zmdi zmdi-chevron-down"></i>
											</span>
										</div>
									</div>
									<div class="form-row" id="established-place-company-phone-row" style="display:none">
										<div class="form-holder">
											<input class="form-control" id="established-place" name="established_place" placeholder="Tempat Didirikan" type="text" >
										</div>
										<div class="form-holder" id="company-phone-input">
											<input class="form-control" id="company-phone" name="company_phone" pattern="^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$" placeholder="Telepon Perusahaan" type="text" >
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<input type="text" name="birth_date" class="date" id="datepicker" placeholder="Tanggal Lahir" style="width: 90%">
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<select name="province" id="province" class="form-control">
												<option disabled selected>Provinsi</option>
												<% for(var i = 0; i < province.length; i++) {%>
													<option value="<%= province[i].id %>"><%= province[i].nama %></option>
												<% } %>
											</select>
											<span class="select-btn">
												<i class="zmdi zmdi-chevron-down"></i>
											</span>
											<input class="form-control" id="province_name" name="province_name" type="text" style="display: none">
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<select name="city" id="city" class="form-control">
												<option id="city-placeholder" value="" disabled selected >Kota</option>
											</select>
											<span class="select-btn">
												<i class="zmdi zmdi-chevron-down"></i>
											</span>
											<input class="form-control" id="city_name" name="city_name" type="text" style="display: none">
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<select name="district" id="district" class="form-control">
												<option id="district-placeholder" value="" disabled selected>Kecamatan</option>
											</select>
											<span class="select-btn">
												<i class="zmdi zmdi-chevron-down"></i>
											</span>
											<input class="form-control" id="district_name" name="district_name" type="text" style="display: none">
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<select name="sub_district" id="sub_district" class="form-control">
												<option id="sub_district-placeholder" value="" disabled selected>Kelurahan</option>
											</select>
											<span class="select-btn">
												<i class="zmdi zmdi-chevron-down"></i>
											</span>
											<input class="form-control" id="sub_district_name" name="sub_district_name" type="text" style="display: none">
										</div>
									</div>
									<div class="form-row">
										<div class="form-holder form-holder-2">
											<input class="form-control" id="address" name="address" placeholder="Alamat Korespondendsi" type="text" >
										</div>
									</div>
								</div>
							</section>
						</div>
						<div class="form-actions form-group">
							<button id="payment-button" type="submit" class="btn btn-lg btn-info btn-block">
								<span id="payment-button-amount">Lanjutkan</span>
							</button>
						</div>
						<!--- <div class="actions clearfix">
							<ul role="menu" aria-label="Pagination">
								<li class="disabled" aria-disabled="true">
									<a href="#previous" role="menuitem">Previous</a>
								</li>
								<li aria-hidden="false" aria-disabled="false">
									<a href="#next" role="menuitem">Lanjutkan</a>
								</li>
								<li aria-hidden="false" aria-disabled="false">
									<button type="submit">Lanjutkan</button>
								</li>
								<li aria-hidden="true" style="display: none;">
									<a href="#finish" role="menuitem">Submit</a>
								</li>
							</ul>
						</div>
						-->
					</div>
				</form>
			</div>
		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/gijgo@1.9.11/js/gijgo.min.js" type="text/javascript"></script>
	<script>
        $('#datepicker').datepicker({
            uiLibrary: 'bootstrap4'
        });
	</script>
	<script>
		$('#registration_type').on('change', function () {
			event.preventDefault();
			var registration_type = $('#registration_type option:selected').val();
			console.log(registration_type);
			if (registration_type == 'individual') {
				$('#name').attr('placeholder', 'Nama Lengkap');
				$('#phone-input').attr('class', 'form-holder');
				$('#phone').attr('placeholder', 'Nomor Handphone');
				$('#gender-input').show();
				$('#established-place-company-phone-row').hide();
			}
			else {
				$('#name').attr('placeholder', 'Nama Perusahaan');
				$('#phone-input').attr('class', 'form-holder form-holder-2');
				$('#phone').attr('placeholder', 'Nomor Handphone Penanggungjawab');
				$('#gender-input').hide();
				$('#established-place-company-phone-row').show();
			}
		});

		$('#province').on('change', function(event) {
			event.preventDefault();
			var province_id = $(this).val();
			var province_name = $('#province option:selected').text();
			$('#province_name').val(province_name);
			$.ajax({
				type: "GET",
				url: '/complete-profile/get-city',
				data: {
					'province_id': province_id
				},
				success: function(data, status) {
					if(data.success == true) {     
						$('.city-option').remove();
						$('.ditrict-option').remove();
						$('.sub_ditrict-option').remove();

						$('#city-placeholder').removeAttr('disabled');
						$('#district-placeholder').removeAttr('disabled');
						$('#sub_district-placeholder').removeAttr('disabled');

						$('#city-placeholder').attr('selected');
						$('#district-placeholder').attr('selected');
						$('#sub_district-placeholder').attr('selected');

						$('#city-placeholder').attr('disabled');
						$('#district-placeholder').attr('disabled');
						$('#sub_district-placeholder').attr('disabled');
						for (let index = 0; index < data.city.length; index++) {
							$('#city').append('<option class="city-option" value="'+data.city[index].id+'">'+data.city[index].nama+'</option>');
                    	}
					}
				}
			})
		});

		$('#city').on('change', function(event) {
			event.preventDefault();
			var city_id = $(this).val();
			var city_name = $('#city option:selected').text();
			$('#city_name').val(city_name);
			$.ajax({
				type: "GET",
				url: '/complete-profile/get-district',
				data: {
					'city_id': city_id
				},
				success: function(data, status) {
					if(data.success == true) {
						$('.ditrict-option').remove();
						$('.sub_ditrict-option').remove();

						$('#district-placeholder').removeAttr('disabled');
						$('#sub_district-placeholder').removeAttr('disabled');

						$('#district-placeholder').attr('selected');
						$('#sub_district-placeholder').attr('selected');

						$('#district-placeholder').attr('disabled');
						$('#sub_district-placeholder').attr('disabled');
						for (let index = 0; index < data.district.length; index++) {
							$('#district').append('<option class="ditrict-option" value="'+data.district[index].id+'">'+data.district[index].nama+'</option>');
                    	}
					}
				}
			})
		});

		$('#district').on('change', function(event) {
			event.preventDefault();
			var district_id = $(this).val();
			var district_name = $('#district option:selected').text();
			$('#district_name').val(district_name);
			$.ajax({
				type: "GET",
				url: '/complete-profile/get-sub_district',
				data: {
					'district_id': district_id
				},
				success: function(data, status) {
					if(data.success == true) {
						$('.sub_ditrict-option').remove();

						$('#sub_district-placeholder').removeAttr('disabled');

						$('#sub_district-placeholder').attr('selected');

						$('#sub_district-placeholder').attr('disabled');
						for (let index = 0; index < data.sub_district.length; index++) {
							$('#sub_district').append('<option class="sub_ditrict-option" value="'+data.sub_district[index].id+'">'+data.sub_district[index].nama+'</option>');
                    	}
					}
				}
			})
		});

		$('#sub_district').on('change', function (event) {
			event.preventDefault();
			var sub_district_name = $('#sub_district option:selected').text();
			$('#sub_district_name').val(sub_district_name);
		});

	</script>
</body>

</html>